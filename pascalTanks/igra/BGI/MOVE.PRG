программа движение;
начало
  если нет_преп
  то начало
       вперед
     конец;
  иначе начало
          передвинуть;
        конец;
конец.